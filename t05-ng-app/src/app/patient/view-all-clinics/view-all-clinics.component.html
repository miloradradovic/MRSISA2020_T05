<br>
<h1 style="margin-left: 30px;">All clinics: </h1>
<mat-divider></mat-divider>
<br>

    <div class="mat-elevation-z8" style="width: 40%;float:left;">

      <table mat-table [dataSource]="dataSource" matSort>

        <ng-container matColumnDef="name">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="address">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Address </th>
          <td mat-cell *matCellDef="let element"> {{element.address}} </td>
        </ng-container>

        <ng-container matColumnDef="avg_rating">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Average rate </th>
          <td mat-cell *matCellDef="let element"> {{element.avg_rating}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns" style="background: transparent !important;"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="viewProfile(row)"></tr>

      </table>

      <mat-paginator [pageSizeOptions]="[5]" showFirstLastButtons></mat-paginator>

    </div>


      <div style="float: right; width: 50%">
      <form  #f="ngForm"  style="padding-left: 25px;" (submit)="search()">
          <mat-form-field appearance="outline" style="width: 250px;">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" [(ngModel)]= "searchModel.date_field" #date_field = "ngModel" [min]="tomorrow" name="date" readonly required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker ></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="outline" style="width: 280px;padding-left: 20px; padding-right: 20px;">
            <mat-label>Appointment type</mat-label>
            <mat-select [(ngModel)] = "searchModel.appointmentType" name="appointment_type"
                        #appointmentType="ngModel"  required >
              <mat-option *ngFor="let a of apt_types" [value]="a" >{{a.name}}</mat-option>
            </mat-select>
          </mat-form-field>

          <button mat-raised-button style="width: 120px" >Search...</button>

          <br>
        </form>
      </div>
        <div class="mat-elevation-z8" style="width: 50%;float:right; margin-top: 2%;">

      <table mat-table [dataSource]="dataSource2" matSort>

        <ng-container matColumnDef="name">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Name </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="surname">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Surname </th>
          <td mat-cell *matCellDef="let element"> {{element.surname}} </td>
        </ng-container>

        <ng-container matColumnDef="avg_rate">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Average rate </th>
          <td mat-cell *matCellDef="let element"> {{element.average_rate}} </td>
        </ng-container>

        <ng-container matColumnDef="apt_type">
          <th mat-header-cell mat-sort-header *matHeaderCellDef> Appointment type </th>
          <td mat-cell *matCellDef="let element"> {{element.AppointmentTypeName}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns2" style="background: transparent !important;"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>

      </table>

      <mat-paginator [pageSizeOptions]="[5]" showFirstLastButtons></mat-paginator>
        </div>

    <div style="float:left; width: 50%">
      <br>
      <h2 style="padding-left:25px ">Clinic information</h2>
      <mat-form-field appearance="outline" style="padding-left: 25px;  width: 250px;">
        <mat-label>Name</mat-label>
        <input matInput  [(ngModel)] = "model.name" name="clinic_name" readonly [disabled]="this.model.id === -1">
      </mat-form-field>

      <mat-form-field appearance="outline" style="padding-left: 25px;  width: 250px;">
        <mat-label>Address</mat-label>
        <input matInput [(ngModel)] = "model.address" name="clinic_address" readonly [disabled]="this.model.id===-1">
      </mat-form-field>

      <br>
      <mat-form-field appearance="outline" style="padding-left: 25px;  width: 250px;">
        <mat-label>Average rating</mat-label>
        <input matInput [(ngModel)] = "model.avg_rating" name="clinic_avg_rating" readonly [disabled]="this.model.id===-1">
        <br></mat-form-field>

      <button mat-raised-button  style="left: 25px; " [disabled]="this.model.id == -1" (click)="goToPredefinedAppointments()">Schedule an Appointment</button>
      <br>
      <br>
    </div>
